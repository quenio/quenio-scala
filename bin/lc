#!/usr/bin/env sc -deprecation
!#

import quenio.locale.repository._
import quenio.locale.roles._

try {
	new CommandApp(".") {
		appName = "lc"
		appArgs = args
		commands = Map(
			"level" -> level _
		)
	} start
} catch {
	case me: MatchError => println("Unexpected file or directory: " + me.getMessage)
	case e: Exception => println(e.getMessage)
}

def level(args: Array[String], dirPath: String) {
  if (args.length == 2) {
    val leveler = new LocaleRepository(dirPath) with Leveler
    leveler.level(args(1))
  } else {
    println("Please specify the base locale used for leveling and no more.")
  }
}